# Navme App 產品需求文件（PRD）

## 一、產品目標
- 協助用戶將生活、親子、學習等目標，拆解為每日可執行的任務。
- 提供任務追蹤、紀錄、回顧與 AI 智能摘要，促進持續行動與反思。
- 支援每日進度自動記錄於行事曆，方便定期回顧與進度分析。

## 二、目標用戶
- 需自我管理、親子教養、學習成長等需求的個人或家長。
- 無需技術背景，能獨立操作網頁應用。

## 三、核心功能
1. **任務卡自動生成** ✅
   - 用戶輸入目標或困難，系統自動產生 3 項具體任務（含標題、說明、建議執行方式）。
   - 任務類型包含：觀察、紀錄、練習、對話、整理。
   - **現狀**：已完成，首頁可即時產生 3 張任務卡，內容結構化，UI 美觀。
2. **任務追蹤與打卡** ✅
   - 顯示今日任務清單，每項任務有「未開始/進行中/已完成」三種狀態。
   - 每項任務可打卡（checkbox）、輸入備註（文字/emoji），可儲存。
   - 進度條根據完成度自動更新。
   - **現狀**：已完成，任務追蹤頁支援打卡、備註、狀態切換，資料即時儲存。
3. **心得與回顧** ✅
   - 用戶可輸入「今日心得」與心情分數。
   - 點擊「完成今天回顧」時，系統彙整所有任務狀態、備註、心得，送給 AI 產生摘要。
   - 顯示 AI 回顧摘要，支援 loading dots、打字動畫、自動捲動。
   - **現狀**：已完成，AI 回顧互動流暢，摘要顯示美觀，支援動畫與自動捲動。
4. **任務週期管理** ⏳
   - 支援 3~7 天任務週期，週期結束自動進入下一階段。
   - 新階段任務可根據前一週期紀錄微調。
   - 提供「開始新週期」「暫停」「下載記錄」等操作。
   - **現狀**：尚未實作週期自動切換與新階段任務微調，僅有單日任務追蹤。
5. **資料儲存** ⏳
   - MVP：資料儲存於 localStorage。
   - 正式版：支援 Firebase Firestore 或 RESTful API。
   - **現狀**：已完成 MVP，所有資料皆儲存於 localStorage，支援多日查詢。正式版（雲端/後端）尚未實作。
6. **行事曆進度記錄與回顧** ✅
   - 每日任務完成狀態、心得、情緒分數等可自動儲存於行事曆（可視化日曆 UI）。
   - 用戶可於行事曆檢視每日/每週/每月進度。
   - 提供「定期回顧」功能，串接 navme_progress_agent.py，AI 協助分析週期進度、給予解鎖建議。
   - **現狀**：已完成，行事曆頁面獨立，支援每日進度、心得、情緒自動儲存與查詢，UI/UX 優化。

## 四、使用流程
1. 用戶進入首頁，輸入目標或困難，點擊「產生任務卡」。
2. 系統顯示 3 張任務卡，內容包含標題、說明、建議執行方式。
3. 用戶點擊「開始任務追蹤」，進入追蹤頁。
4. 用戶逐一打卡任務、輸入備註。
5. 用戶於下方輸入「今日心得」與心情分數。
6. 點擊「完成今天回顧」，系統彙整資料並送給 AI 產生回顧摘要，並將當日進度寫入行事曆。
7. 用戶可於行事曆檢視過往進度，定期點擊「進度回顧」由 navme_progress_agent.py 分析週期成果與解鎖建議。
8. 顯示 AI 回顧摘要，用戶可選擇下載紀錄或開始新週期。

## 五、技術需求
- 前端：HTML、JS、CSS，無需安裝套件。
- 後端：MCP 架構（tool / agent / orchestrator），API 以 JSON schema 溝通。
- 資料結構：所有任務、狀態、備註、心得皆以結構化 JSON 傳遞。
- 行事曆資料結構需支援每日進度、心得、情緒等欄位，並可查詢/回顧。
- 前端可擴充支援多主題、多用戶。

## 六、未來擴充規劃（中期 Roadmap）
- 🎭 **多角色任務對應（學生／家長／老師）**
  - 同一事件，系統自動產出不同角色任務
  - 可連動成「三角任務」或「家庭任務包」
- 🤝 **共學／團體模式**
  - 任務追蹤可多人同步顯示（適用於班級、社群、學習圈）
  - 支援進度分享、留言互動、統一總結
- 🧱 **任務模組資料庫（可擴充）**
  - 支援 YAML / JSON 格式建立任務模組（task_module_id）
  - 教師／顧問可建立任務模板上架供其他人使用
- 🪄 **AI 任務教練模式**
  - 透過 chat UI 與 Navme 助理對話，協助推薦任務、分析執行瓶頸
  - 整合 MCP 調度器，動態切換任務階段／策略／工具推薦
- 📊 **情緒與能量儀表板**
  - 每日回顧可記錄情緒分數／能量／焦慮等指標
  - 自動視覺化呈現趨勢圖，支援分析與干預建議
- 🏆 **成長路徑與里程碑牆**
  - 類似 Duolingo 的語言地圖／獎章系統
  - 任務完成時可解鎖「主題成就」、「角色徽章」、「反思洞見」
- 📅 **進度行事曆與週期回顧**
  - 行事曆可檢視所有進度、心得、情緒等紀錄
  - 定期回顧可串接 navme_progress_agent.py，AI 協助分析與建議

## 七、檔案結構（前端）
- frontend/navme_index.html：首頁
- frontend/navme_index.js：首頁互動
- frontend/navme_mission_tracker.html：任務追蹤頁
- frontend/navme_mission_tracker.js：追蹤互動
- frontend/navme_style.css：樣式

## 八、未來商業模式
- SaaS 雲平台（家長／教師／心理師帳號）
- 顧問工具（任務模組＋學生追蹤＋匯出報告）
- App 版本（每日提醒＋語音記錄＋情緒小遊戲）
- 專業合作授權（如：SEL App、學校合作）
- 插件式 AI 模組（Navme Agent for any platform）
- 任務模組市集（顧問或專家可設計任務包出售）

## 九、Changelog

### 2025/5/26
- 前端重構、首頁/追蹤頁分離、UI/UX 優化
- AI 回顧互動、資料流調整、README_NAVME.md 新增
- 支援任務狀態、備註、心得完整彙整與傳遞

### 2025/5/27
- 行事曆（Calendar）功能優化：
  - 行事曆頁面與元件獨立，支援每日進度、心得、情緒自動儲存與查詢。
  - 導覽列（navbar）統一，所有頁面可快速切換至行事曆。
  - 任務追蹤頁、Dashboard、行事曆頁皆可檢視與回顧每日紀錄。
  - 移除多餘按鈕，介面更簡潔。